{% extends 'base/base.html' %}

{% block navbar %}
    <ul class="navbar-nav ms-lg-auto">
        <li class="nav-item">
            <a class="nav-link" href="{{ url_for('main') }}">Главная</a>
        </li>

        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarLightDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">Страницы</a>

            <ul class="dropdown-menu dropdown-menu-light" aria-labelledby="navbarLightDropdownMenuLink">
                <li><a class="dropdown-item" href="{{ url_for('events') }}">Список событий</a></li>
                <li><a class="dropdown-item" href="{{ url_for('admin') }}">Административный раздел</a></li>
            </ul>
        </li>
    </ul>
{% endblock %}

{% block content %}
    <section class="hero-section hero-50 d-flex justify-content-center align-items-center" id="section_1">
        <div class="section-overlay"></div>
        <svg viewBox="0 0 1962 178" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path fill="#3D405B" d="M 0 114 C 118.5 114 118.5 167 237 167 L 237 167 L 237 0 L 0 0 Z" stroke-width="0"></path> <path fill="#3D405B" d="M 236 167 C 373 167 373 128 510 128 L 510 128 L 510 0 L 236 0 Z" stroke-width="0"></path> <path fill="#3D405B" d="M 509 128 C 607 128 607 153 705 153 L 705 153 L 705 0 L 509 0 Z" stroke-width="0"></path><path fill="#3D405B" d="M 704 153 C 812 153 812 113 920 113 L 920 113 L 920 0 L 704 0 Z" stroke-width="0"></path><path fill="#3D405B" d="M 919 113 C 1048.5 113 1048.5 148 1178 148 L 1178 148 L 1178 0 L 919 0 Z" stroke-width="0"></path><path fill="#3D405B" d="M 1177 148 C 1359.5 148 1359.5 129 1542 129 L 1542 129 L 1542 0 L 1177 0 Z" stroke-width="0"></path><path fill="#3D405B" d="M 1541 129 C 1751.5 129 1751.5 138 1962 138 L 1962 138 L 1962 0 L 1541 0 Z" stroke-width="0"></path></svg>
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-12">
                    <h1 class="text-white mb-4 pb-2">Создание или редактирование пользователя</h1>
                </div>
            </div>
        </div>
        <svg viewBox="0 0 1962 178" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path fill="#ffffff" d="M 0 114 C 118.5 114 118.5 167 237 167 L 237 167 L 237 0 L 0 0 Z" stroke-width="0"></path> <path fill="#ffffff" d="M 236 167 C 373 167 373 128 510 128 L 510 128 L 510 0 L 236 0 Z" stroke-width="0"></path> <path fill="#ffffff" d="M 509 128 C 607 128 607 153 705 153 L 705 153 L 705 0 L 509 0 Z" stroke-width="0"></path><path fill="#ffffff" d="M 704 153 C 812 153 812 113 920 113 L 920 113 L 920 0 L 704 0 Z" stroke-width="0"></path><path fill="#ffffff" d="M 919 113 C 1048.5 113 1048.5 148 1178 148 L 1178 148 L 1178 0 L 919 0 Z" stroke-width="0"></path><path fill="#ffffff" d="M 1177 148 C 1359.5 148 1359.5 129 1542 129 L 1542 129 L 1542 0 L 1177 0 Z" stroke-width="0"></path><path fill="#ffffff" d="M 1541 129 C 1751.5 129 1751.5 138 1962 138 L 1962 138 L 1962 0 L 1541 0 Z" stroke-width="0"></path></svg>
    </section>

    {% if user %}

        <section class="hero-50 d-flex justify-content-center align-items-center" id="create-user">
            <div class="container">
                <form action="{{ url_for('edit_user', user_id=user.id) }}" method="post" class="custom-form contact-form" role="form">
                    <div class="row">
                        <div class="col-lg-6 col-md-6 col-12">
                            <div class="form-floating">
                                <input type="text" name="account-number" id="account-number" class="form-control" placeholder="Номер абонемента" required="" value="{{ user.account_number }}">
                                <label for="floatingInput">Номер абонемента</label>
                            </div>
                            <div class="form-floating">
                                <input type="text" name="email" id="user-email" class="form-control" placeholder="Email" required="" value="{{ email }}">
                                <label for="floatingInput">Email</label>
                            </div>
                            <div class="form-floating">
                                <input type="text" name="user-password" id="user-password" class="form-control" placeholder="Пароль">
                                <label for="floatingInput">Изменить пароль</label>
                            </div>
                            <button type="submit" class="form-control">Сохранить</button>
                        </div>
                    </div>
                </form>
            </div>
        </section>

    {% else %}

        <section class="hero-50 d-flex justify-content-center align-items-center" id="create-user">
            <div class="container">
                <form action="{{ url_for('admin_user') }}" method="post" class="custom-form contact-form" role="form">
                    <div class="row">
                        <div class="col-lg-6 col-md-6 col-12">
                            <div class="form-floating">
                                <input type="text" name="account-number" id="account-number" class="form-control" placeholder="Номер абонемента" required="">
                                <label for="floatingInput">Номер абонемента</label>
                            </div>
                            <div class="form-floating">
                                <input type="text" name="email" id="user-email" class="form-control" placeholder="Email" required="">
                                <label for="floatingInput">Email</label>
                            </div>
                            <div class="form-floating">
                                <input type="text" name="user-password" id="user-password" class="form-control" placeholder="Пароль" required="">
                                <label for="floatingInput">Пароль</label>
                            </div>
                            <button type="submit" class="form-control">Зарегистрировать нового пользователя</button>
                        </div>
                    </div>
                </form>
            </div>
        </section>

    {% endif %}
{% endblock %}